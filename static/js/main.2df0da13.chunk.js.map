{"version":3,"sources":["bcphelpers.ts","uielements.tsx","interprete.ts","displays.tsx","inputprocessing.tsx","App.tsx","index.tsx"],"names":["narrowNoBreakSpace","printAmount","amount","whole","quantity","slice","fractionalDigits","trimmedFractional","leftPad","replace","concat","tokenTicker","printPath","path","components","map","ri","isHardened","toNumber","Math","pow","join","ellideMiddle","str","maxOutLen","length","frontLen","ceil","tailLen","floor","addressLink","address","react_default","a","createElement","Link","to","InputProperties","toHex","Encoding","priorityEd25519PubkeyDisplay","priorityLiskLikePassphraseDisplay","priorityHdAddressesDisplay","priorityBnsAddressDisplay","priorityLiskAddressDisplay","priorityRiseAddressDisplay","priorityBech32Display","priorityWeaveAddressDisplay","priorityEthereumAddressDisplay","priorityBip39MnemonicDisplay","priorityBnsUsernameNftDisplay","priorityBnsBlockchainNftDisplay","priorityHexDisplay","bcpConnections","Map","bnsConnections","makeBnsAddressDisplay","input","network","id","name","interpretedAs","priority","query","deprecated","arguments","undefined","getData","_getData","Object","asyncToGenerator","regenerator_default","mark","_callee","connection","response","wrap","_context","prev","next","has","url","set","BnsConnection","establish","get","sent","getAccount","abrupt","stop","apply","this","renderData","data","pubkey","balance","hexPubkey","className","makeBnsAccountDisplay","makeLiskAddressDisplay","_getData2","_callee2","_context2","LiskConnection","makeRiseAddressDisplay","_getData3","_callee3","_context3","RiseConnection","makeBnsUsernameNftDisplay","displayId","_getData4","_callee4","_context4","getUsernames","username","_response$","owner","addressElements","addresses","pair","key","chainId","title","makeBnsBlockchainNftDisplay","_getData5","_callee5","_context5","getBlockchains","_response$2","codecName","codecConfig","makeBech32Display","parsed","Bech32","decode","prefix","makeHexDisplay","inputData","fromHex","toLowerCase","toUpperCase","makeWeaveAddressDisplay","tiovAddress","encode","iovAddress","makeEthereumAddressDisplay","lower","checksummed","toChecksummedAddress","href","makeEd25519PubkeyDisplay","ed25519PubkeyBytes","bnsAddress","bnsCodec","identityToAddress","algo","Algorithm","Ed25519","liskAddress","Derivation","pubkeyToAddress","riseAddress","makeHdAddressesDisplay","addressLength","rows","makeSimpleAddressDisplay","_x","_makeSimpleAddressDisplay","_callee6","wallet","index","_path","identity","_address4","_context6","Ed25519HdWallet","fromMnemonic","HdPaths","simpleAddress","createIdentity","push","makeEd25519HdWalletDisplay","_x2","_x3","_x4","_x5","_x6","_makeEd25519HdWalletDisplay","_callee7","coinNumber","coinName","codec","_path2","_address5","_context7","Slip10RawIndex","hardened","makeSecp256k1HdWalletDisplay","_x7","_x8","_x9","_x10","_x11","_makeSecp256k1HdWalletDisplay","_callee8","_path3","_address6","_context8","Secp256k1HdWallet","normal","makeLiskLikePassphraseDisplay","_x12","_makeLiskLikePassphraseDisplay","_callee9","_context9","t0","passphraseToKeypair","t1","call","t2","t3","makeBip39MnemonicDisplay","wordCount","mnemonic","EnglishMnemonic","entropy","Bip39","Error","interprete","Set","out","rawData","add","Hex","ByteLength20","ByteLength32","_unused","IovAddressMainnet","IovAddressTestnet","_unused2","EnglishMnemonic12Words","_unused3","match","BnsBlockchainNft","BnsUsernameNft","liskCodec","isValidAddress","LiskAddress","riseCodec","RiseAddress","ethereumCodec","EthereumAddress","isInteractiveDisplay","display","iovTestnets","bnsNftSupported","liskNetworks","riseNetworks","accountBasedSlip10HdCoins","number","secp256k1Slip10HdCoins","processInput","_processInput","normalizedInput","properties","_i","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_network","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_network2","_i2","hdCoin","_i3","_hdCoin","_i4","_network3","_i5","_network4","trim","Array","filter","testnet","Symbol","iterator","done","value","return","finish","t4","t5","t6","t7","t8","t9","sort","b","App","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","timeouts","state","history","listen","location","action","hashQuery","hash","handleQuery","handleChange","bind","assertThisInitialized","decodeURIComponent","console","log","listItems","type","placeholder","onChange","autoFocus","readOnly","window","encodeURIComponent","e","newValue","target","updatedDisplay","list","x","findIndex","i","setState","allStatic","timeout","clearTimeout","interactiveDisplay","_this2","setTimeout","then","catch","error","toString","rendered","updateDisplay","_loop","React","Component","withRouter","ReactDOM","render","BrowserRouter","Route","component","document","getElementById"],"mappings":"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","file":"static/js/main.2df0da13.chunk.js","sourcesContent":["import { Amount } from \"@iov/bcp\";\nimport { Slip10RawIndex } from \"@iov/crypto\";\n\nimport leftPad from \"left-pad\";\n\n// Unicode NARROW NO-BREAK SPACE\n// https://www.fileformat.info/info/unicode/char/202f/index.htm\nconst narrowNoBreakSpace = \"\\u202F\";\n\nexport function printAmount(amount: Amount): string {\n  const whole = amount.quantity.slice(0, -amount.fractionalDigits) || \"0\";\n  const fractional = leftPad(\n    amount.quantity.slice(-amount.fractionalDigits) || \"0\",\n    amount.fractionalDigits,\n    \"0\",\n  );\n  const trimmedFractional = fractional.replace(/0+$/, \"\") || \"0\";\n  return `${whole}.${trimmedFractional}${narrowNoBreakSpace}${amount.tokenTicker}`;\n}\n\nexport function printPath(path: ReadonlyArray<Slip10RawIndex>): string {\n  const components = path.map(ri => (ri.isHardened() ? `${ri.toNumber() - 2 ** 31}'` : `${ri.toNumber()}`));\n  return `m/${components.join(\"/\")}`;\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { Address } from \"@iov/bcp\";\n\nexport function ellideMiddle(str: string, maxOutLen: number): string {\n  if (str.length <= maxOutLen) {\n    return str;\n  }\n  const ellide = \"â€¦\";\n  const frontLen = Math.ceil((maxOutLen - ellide.length) / 2);\n  const tailLen = Math.floor((maxOutLen - ellide.length) / 2);\n  return str.slice(0, frontLen) + ellide + str.slice(-tailLen);\n}\n\nexport function addressLink(address: Address): JSX.Element {\n  return <Link to={\"#\" + address}>{ellideMiddle(address, 25)}</Link>;\n}\n\nexport function printEllideMiddle(str: string, maxOutLen: number): JSX.Element {\n  return <span title={str}>{ellideMiddle(str, maxOutLen)}</span>;\n}\n","import { Bip39, EnglishMnemonic } from \"@iov/crypto\";\nimport { Bech32, Encoding } from \"@iov/encoding\";\nimport { ethereumCodec } from \"@iov/ethereum\";\nimport { liskCodec } from \"@iov/lisk\";\nimport { riseCodec } from \"@iov/rise\";\n\nexport enum InputProperties {\n  Hex,\n  Bech32,\n  ByteLength20,\n  ByteLength32,\n  EnglishMnemonic,\n  EnglishMnemonic12Words,\n  EthereumAddress,\n  IovAddressMainnet,\n  IovAddressTestnet,\n  BnsBlockchainNft,\n  BnsUsernameNft,\n  LiskAddress,\n  RiseAddress,\n}\n\nexport function interprete(input: string): ReadonlySet<InputProperties> {\n  if (input.length === 0) {\n    return new Set();\n  }\n\n  const out = new Set();\n\n  try {\n    const rawData = Encoding.fromHex(input);\n    out.add(InputProperties.Hex);\n    if (rawData.length === 20) {\n      out.add(InputProperties.ByteLength20);\n    }\n    if (rawData.length === 32) {\n      out.add(InputProperties.ByteLength32);\n    }\n  } catch {}\n\n  try {\n    const data = Bech32.decode(input);\n    out.add(InputProperties.Bech32);\n    if (data.prefix === \"iov\") {\n      out.add(InputProperties.IovAddressMainnet);\n    }\n    if (data.prefix === \"tiov\") {\n      out.add(InputProperties.IovAddressTestnet);\n    }\n  } catch {}\n\n  try {\n    const mnemonic = new EnglishMnemonic(input);\n    out.add(InputProperties.EnglishMnemonic);\n    const entropy = Bip39.decode(mnemonic);\n    if (entropy.length * 8 === 128) {\n      out.add(InputProperties.EnglishMnemonic12Words);\n    }\n  } catch {}\n\n  // https://github.com/iov-one/weave/blob/v0.9.3/x/nft/username/msg.go#L19\n  if (input.match(/^[a-z0-9\\.,\\+\\-_@]{4,64}$/)) {\n    out.add(InputProperties.BnsBlockchainNft);\n    out.add(InputProperties.BnsUsernameNft);\n  }\n\n  if (liskCodec.isValidAddress(input)) {\n    out.add(InputProperties.LiskAddress);\n  }\n\n  if (riseCodec.isValidAddress(input)) {\n    out.add(InputProperties.RiseAddress);\n  }\n\n  if (ethereumCodec.isValidAddress(input)) {\n    out.add(InputProperties.EthereumAddress);\n  }\n\n  return out;\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport {\n  Account,\n  AccountQuery,\n  Address,\n  Algorithm,\n  BcpConnection,\n  ChainId,\n  PublicKeyBundle,\n  PublicKeyBytes,\n  TxCodec,\n} from \"@iov/bcp\";\nimport { BnsBlockchainNft, bnsCodec, BnsConnection, BnsUsernameNft } from \"@iov/bns\";\nimport { Bip39, EnglishMnemonic, Slip10RawIndex } from \"@iov/crypto\";\nimport { Derivation } from \"@iov/dpos\";\nimport { Bech32, Encoding } from \"@iov/encoding\";\nimport { toChecksummedAddress } from \"@iov/ethereum\";\nimport { Ed25519HdWallet, HdPaths, Secp256k1HdWallet } from \"@iov/keycontrol\";\nimport { LiskConnection, passphraseToKeypair } from \"@iov/lisk\";\nimport { RiseConnection } from \"@iov/rise\";\n\nimport { printAmount, printPath } from \"./bcphelpers\";\nimport { InteractiveDisplay, StaticDisplay } from \"./inputprocessing\";\nimport { addressLink, ellideMiddle, printEllideMiddle } from \"./uielements\";\n\nconst { toHex } = Encoding;\n\nexport interface NetworkSettings {\n  readonly name: string;\n  readonly url: string;\n  readonly bnsNftSupported?: boolean;\n}\n\nconst priorityEd25519PubkeyDisplay = 7;\nconst priorityLiskLikePassphraseDisplay = 7;\nconst priorityHdAddressesDisplay = 8;\nconst priorityBnsAddressDisplay = 9;\nconst priorityLiskAddressDisplay = 10;\nconst priorityRiseAddressDisplay = 10;\nconst priorityBech32Display = 10;\nconst priorityWeaveAddressDisplay = 10;\nconst priorityEthereumAddressDisplay = 10;\nconst priorityBip39MnemonicDisplay = 11;\nconst priorityBnsUsernameNftDisplay = 15;\nconst priorityBnsBlockchainNftDisplay = 16;\nconst priorityHexDisplay = 20;\n\nconst bcpConnections = new Map<string, Promise<BcpConnection>>();\nconst bnsConnections = new Map<string, Promise<BnsConnection>>();\n\nfunction makeBnsAccountDisplay(\n  id: string,\n  priority: number,\n  interpretedAs: string,\n  query: AccountQuery,\n  network: NetworkSettings,\n  deprecated: boolean = false,\n): InteractiveDisplay {\n  return {\n    id: id,\n    priority: priority,\n    deprecated: deprecated,\n    interpretedAs: interpretedAs,\n    getData: async () => {\n      if (!bnsConnections.has(network.url)) {\n        bnsConnections.set(network.url, BnsConnection.establish(network.url));\n      }\n      const connection = await bnsConnections.get(network.url)!;\n      const response = await connection.getAccount(query);\n      return response;\n    },\n    renderData: (response: Account | undefined) => {\n      let data: JSX.Element;\n      if (response) {\n        const { address, pubkey, balance } = response;\n        const hexPubkey = pubkey ? toHex(pubkey.data) : undefined;\n        data = (\n          <table>\n            <tbody>\n              <tr>\n                <td>Address</td>\n                <td>{addressLink(address)}</td>\n              </tr>\n              <tr>\n                <td>Pubkey</td>\n                <td className=\"breakall\">\n                  {hexPubkey ? (\n                    <Link to={\"#\" + hexPubkey}>{hexPubkey}</Link>\n                  ) : (\n                    <span className=\"inactive\">not available</span>\n                  )}\n                </td>\n              </tr>\n              <tr>\n                <td>Balance</td>\n                <td>{balance.map(printAmount).join(\", \")}</td>\n              </tr>\n            </tbody>\n          </table>\n        );\n      } else {\n        data = <span className=\"inactive\">Account not found</span>;\n      }\n      return { id, interpretedAs, priority, deprecated, data };\n    },\n  };\n}\n\nexport function makeBnsAddressDisplay(input: string, network: NetworkSettings): InteractiveDisplay {\n  const id = `${input}#${network.name}-bns-address`;\n  const interpretedAs = `Address on ${network.name}`;\n  return makeBnsAccountDisplay(\n    id,\n    priorityBnsAddressDisplay,\n    interpretedAs,\n    { address: input as Address },\n    network,\n  );\n}\n\nexport function makeLiskAddressDisplay(input: string, network: NetworkSettings): InteractiveDisplay {\n  const id = `${input}#${network.name}-lisk-address`;\n  const interpretedAs = `Address on ${network.name}`;\n  return {\n    id: id,\n    priority: priorityLiskAddressDisplay,\n    interpretedAs: interpretedAs,\n    getData: async () => {\n      if (!bcpConnections.has(network.url)) {\n        bcpConnections.set(network.url, LiskConnection.establish(network.url));\n      }\n      const connection = await bcpConnections.get(network.url)!;\n      const response = await connection.getAccount({ address: input as Address });\n      return response;\n    },\n    renderData: (response: Account | undefined) => {\n      let data: JSX.Element;\n      if (response) {\n        const { address, pubkey, balance } = response;\n        const hexPubkey = pubkey ? toHex(pubkey.data) : undefined;\n        data = (\n          <table>\n            <tr>\n              <td>Address</td>\n              <td>{addressLink(address)}</td>\n            </tr>\n            <tr>\n              <td>Pubkey</td>\n              <td className=\"breakall\">\n                {hexPubkey ? (\n                  <Link to={\"#\" + hexPubkey}>{hexPubkey}</Link>\n                ) : (\n                  <span className=\"inactive\">not available</span>\n                )}\n              </td>\n            </tr>\n            <tr>\n              <td>Balance</td>\n              <td>{balance.map(printAmount).join(\", \")}</td>\n            </tr>\n          </table>\n        );\n      } else {\n        data = <span className=\"inactive\">Account not found</span>;\n      }\n      return {\n        id: id,\n        interpretedAs: interpretedAs,\n        priority: priorityLiskAddressDisplay,\n        data: data,\n      };\n    },\n  };\n}\n\nexport function makeRiseAddressDisplay(input: string, network: NetworkSettings): InteractiveDisplay {\n  const id = `${input}#${network.name}-rise-address`;\n  const interpretedAs = `Address on ${network.name}`;\n  return {\n    id: id,\n    priority: priorityRiseAddressDisplay,\n    interpretedAs: interpretedAs,\n    getData: async () => {\n      if (!bcpConnections.has(network.url)) {\n        bcpConnections.set(network.url, RiseConnection.establish(network.url));\n      }\n      const connection = await bcpConnections.get(network.url)!;\n      const response = await connection.getAccount({ address: input as Address });\n      return response;\n    },\n    renderData: (response: Account | undefined) => {\n      let data: JSX.Element;\n      if (response) {\n        const { address, pubkey, balance } = response;\n        const hexPubkey = pubkey ? toHex(pubkey.data) : undefined;\n        data = (\n          <table>\n            <tr>\n              <td>Address</td>\n              <td>{addressLink(address)}</td>\n            </tr>\n            <tr>\n              <td>Pubkey</td>\n              <td className=\"breakall\">\n                {hexPubkey ? (\n                  <Link to={\"#\" + hexPubkey}>{hexPubkey}</Link>\n                ) : (\n                  <span className=\"inactive\">not available</span>\n                )}\n              </td>\n            </tr>\n            <tr>\n              <td>Balance</td>\n              <td>{balance.map(printAmount).join(\", \")}</td>\n            </tr>\n          </table>\n        );\n      } else {\n        data = <span className=\"inactive\">Account not found</span>;\n      }\n      return {\n        id: id,\n        priority: priorityRiseAddressDisplay,\n        interpretedAs: interpretedAs,\n        data: data,\n      };\n    },\n  };\n}\n\nexport function makeBnsUsernameNftDisplay(input: string, network: NetworkSettings): InteractiveDisplay {\n  const displayId = `${input}#${network.name}-username-nft`;\n  const interpretedAs = `Username NFT on ${network.name}`;\n  return {\n    id: displayId,\n    priority: priorityBnsUsernameNftDisplay,\n    interpretedAs: interpretedAs,\n    getData: async () => {\n      if (!bnsConnections.has(network.url)) {\n        bnsConnections.set(network.url, BnsConnection.establish(network.url));\n      }\n      const connection = await bnsConnections.get(network.url)!;\n      const response = await connection.getUsernames({ username: input });\n      return response;\n    },\n    renderData: (response: ReadonlyArray<BnsUsernameNft>) => {\n      let data: JSX.Element;\n      if (response.length > 0) {\n        const { id, owner, addresses } = response[0];\n        const addressElements = addresses.map(pair => (\n          <span key={pair.chainId}>\n            {printEllideMiddle(pair.chainId, 12)}: {addressLink(pair.address)}\n            <br />\n          </span>\n        ));\n        data = (\n          <table>\n            <tbody>\n              <tr>\n                <td>Name</td>\n                <td>\n                  <Link to={\"#\" + id}>{id}</Link>\n                </td>\n              </tr>\n              <tr>\n                <td>Owner</td>\n                <td>\n                  <Link to={\"#\" + owner}>{owner}</Link>\n                </td>\n              </tr>\n              <tr>\n                <td>Addresses</td>\n                <td>{addressElements}</td>\n              </tr>\n            </tbody>\n          </table>\n        );\n      } else {\n        data = <span className=\"inactive\">NFT not found</span>;\n      }\n      return {\n        id: displayId,\n        interpretedAs: interpretedAs,\n        priority: priorityBnsUsernameNftDisplay,\n        data: data,\n      };\n    },\n  };\n}\n\nexport function makeBnsBlockchainNftDisplay(input: string, network: NetworkSettings): InteractiveDisplay {\n  const displayId = `${input}#${network.name}-blockchain-nft`;\n  const interpretedAs = `Blockchain NFT on ${network.name}`;\n  return {\n    id: displayId,\n    priority: priorityBnsBlockchainNftDisplay,\n    interpretedAs: interpretedAs,\n    getData: async () => {\n      if (!bnsConnections.has(network.url)) {\n        bnsConnections.set(network.url, BnsConnection.establish(network.url));\n      }\n      const connection = await bnsConnections.get(network.url)!;\n      const response = await connection.getBlockchains({ chainId: input as ChainId });\n      return response;\n    },\n    renderData: (response: ReadonlyArray<BnsBlockchainNft>) => {\n      let data: JSX.Element;\n      if (response.length > 0) {\n        const { id, owner, codecName, codecConfig } = response[0];\n        data = (\n          <table>\n            <tbody>\n              <tr>\n                <td>Name</td>\n                <td>\n                  <Link to={\"#\" + id}>{id}</Link>\n                </td>\n              </tr>\n              <tr>\n                <td>Owner</td>\n                <td>\n                  <Link to={\"#\" + owner}>{owner}</Link>\n                </td>\n              </tr>\n              <tr>\n                <td>Codec</td>\n                <td>{codecName}</td>\n              </tr>\n              <tr>\n                <td>Codec config</td>\n                <td>{codecConfig}</td>\n              </tr>\n            </tbody>\n          </table>\n        );\n      } else {\n        data = <span className=\"inactive\">NFT not found</span>;\n      }\n      return {\n        id: displayId,\n        interpretedAs: interpretedAs,\n        priority: priorityBnsUsernameNftDisplay,\n        data: data,\n      };\n    },\n  };\n}\n\nexport function makeBech32Display(input: string): StaticDisplay {\n  const parsed = Bech32.decode(input);\n  return {\n    id: `${input}#bech32`,\n    interpretedAs: \"Bech32 address\",\n    priority: priorityBech32Display,\n    data: (\n      <div>\n        Prefix: {parsed.prefix}\n        <br />\n        Data: <Link to={\"#\" + toHex(parsed.data)}>{toHex(parsed.data)}</Link>\n      </div>\n    ),\n  };\n}\n\nexport function makeHexDisplay(input: string): StaticDisplay {\n  const inputData = Encoding.fromHex(input);\n  return {\n    id: `${input}#hex-summary`,\n    interpretedAs: \"Hex data summary\",\n    priority: priorityHexDisplay,\n    data: (\n      <div>\n        Length: {inputData.length} bytes\n        <br />\n        <div className=\"pair\">\n          <div className=\"pair-key\">Lower:&nbsp;</div>\n          <div className=\"pair-value data\">{input.toLowerCase()}</div>\n        </div>\n        <div className=\"pair\">\n          <div className=\"pair-key\">Upper:&nbsp;</div>\n          <div className=\"pair-value data\">{input.toUpperCase()}</div>\n        </div>\n      </div>\n    ),\n  };\n}\n\nexport function makeWeaveAddressDisplay(input: string): StaticDisplay {\n  const inputData = Encoding.fromHex(input);\n  const tiovAddress = Bech32.encode(\"tiov\", inputData);\n  const iovAddress = Bech32.encode(\"iov\", inputData);\n  return {\n    id: `${input}#weave-address`,\n    interpretedAs: \"Weave address\",\n    priority: priorityWeaveAddressDisplay,\n    data: (\n      <div>\n        IOV test: <Link to={\"#\" + tiovAddress}>{tiovAddress}</Link>\n        <br />\n        IOV main: <Link to={\"#\" + iovAddress}>{iovAddress}</Link>\n      </div>\n    ),\n  };\n}\n\nexport function makeEthereumAddressDisplay(input: string): StaticDisplay {\n  const lower = input.toLowerCase();\n  const checksummed = toChecksummedAddress(input);\n  return {\n    id: `${input}#ethereum-address`,\n    interpretedAs: \"Ethereum address\",\n    priority: priorityEthereumAddressDisplay,\n    data: (\n      <div>\n        <div className=\"pair\">\n          <div className=\"pair-key\">Lower:&nbsp;</div>\n          <div className=\"pair-value data\">{lower}</div>\n        </div>\n        <div className=\"pair\">\n          <div className=\"pair-key\">Checksummed:&nbsp;</div>\n          <div className=\"pair-value data\">{checksummed}</div>\n        </div>\n        <div>\n          View on Etherscan:&nbsp;\n          <a className=\"external\" href={\"https://ropsten.etherscan.io/address/\" + checksummed}>Ropsten</a>&nbsp;\n          <a className=\"external\" href={\"https://rinkeby.etherscan.io/address/\" + checksummed}>Rinkeby</a>&nbsp;\n          <a className=\"external\" href={\"https://etherscan.io/address/\" + checksummed}>Mainnet</a>\n        </div>\n      </div>\n    ),\n  };\n}\n\nexport function makeEd25519PubkeyDisplay(input: string): StaticDisplay {\n  const ed25519PubkeyBytes = Encoding.fromHex(input) as PublicKeyBytes;\n\n  const bnsAddress = bnsCodec.identityToAddress({\n    chainId: \"some-testnet\" as ChainId,\n    pubkey: {\n      algo: Algorithm.Ed25519,\n      data: ed25519PubkeyBytes,\n    },\n  });\n  const liskAddress = Derivation.pubkeyToAddress(ed25519PubkeyBytes, \"L\");\n  const riseAddress = Derivation.pubkeyToAddress(ed25519PubkeyBytes, \"R\");\n\n  return {\n    id: `${input}#ed25519-pubkey`,\n    interpretedAs: \"Ed25519 public key\",\n    priority: priorityEd25519PubkeyDisplay,\n    data: (\n      <div>\n        BNS: <Link to={\"#\" + bnsAddress}>{bnsAddress}</Link>\n        <br />\n        Lisk: <Link to={\"#\" + liskAddress}>{liskAddress}</Link>\n        <br />\n        Rise: <Link to={\"#\" + riseAddress}>{riseAddress}</Link>\n        <br />\n      </div>\n    ),\n  };\n}\n\nfunction makeHdAddressesDisplay(\n  id: string,\n  interpretedAs: string,\n  addresses: ReadonlyArray<{\n    readonly path: string;\n    readonly pubkey: PublicKeyBundle;\n    readonly address: Address;\n  }>,\n  addressLength: number,\n  deprecated?: boolean,\n): StaticDisplay {\n  const rows = addresses.map(a => (\n    <div key={a.path}>\n      <span className=\"mono\">{a.path}</span>:{\" \"}\n      <Link to={\"#\" + a.address}>{ellideMiddle(a.address, addressLength)}</Link> ({a.pubkey.algo}/\n      <Link to={\"#\" + toHex(a.pubkey.data)}>{ellideMiddle(toHex(a.pubkey.data), 5)}</Link>)\n    </div>\n  ));\n\n  return {\n    id: id,\n    interpretedAs: interpretedAs,\n    priority: priorityHdAddressesDisplay,\n    deprecated: deprecated,\n    data: <div>{rows}</div>,\n  };\n}\n\nexport async function makeSimpleAddressDisplay(input: string): Promise<StaticDisplay> {\n  const wallet = Ed25519HdWallet.fromMnemonic(input);\n\n  // any testnet leads to \"tiov\" prefixes\n  const chainId = \"some-testnet\" as ChainId;\n\n  // tslint:disable-next-line:readonly-array\n  const addresses: Array<{\n    readonly path: string;\n    readonly pubkey: PublicKeyBundle;\n    readonly address: Address;\n  }> = [];\n  for (let index = 0; index < 5; ++index) {\n    const path = HdPaths.simpleAddress(index);\n    const identity = await wallet.createIdentity(chainId, path);\n    const address = bnsCodec.identityToAddress(identity);\n    addresses.push({\n      path: `4804438'/${index}'`,\n      pubkey: identity.pubkey,\n      address: address,\n    });\n  }\n\n  return makeHdAddressesDisplay(\n    `${input}#hd-wallet-simple-address`,\n    `Simple Address HD Wallet`,\n    addresses,\n    21,\n    true,\n  );\n}\n\nexport async function makeEd25519HdWalletDisplay(\n  input: string,\n  coinNumber: number,\n  coinName: string,\n  chainId: ChainId,\n  codec: TxCodec,\n): Promise<StaticDisplay> {\n  const wallet = Ed25519HdWallet.fromMnemonic(input);\n\n  // tslint:disable-next-line:readonly-array\n  const addresses: Array<{\n    readonly path: string;\n    readonly pubkey: PublicKeyBundle;\n    readonly address: Address;\n  }> = [];\n  for (let a = 0; a < 5; ++a) {\n    const path: ReadonlyArray<Slip10RawIndex> = [\n      Slip10RawIndex.hardened(44),\n      Slip10RawIndex.hardened(coinNumber),\n      Slip10RawIndex.hardened(a),\n    ];\n    const identity = await wallet.createIdentity(chainId, path);\n    const address = codec.identityToAddress(identity);\n    addresses.push({\n      path: printPath(path),\n      pubkey: identity.pubkey,\n      address: address,\n    });\n  }\n\n  return makeHdAddressesDisplay(\n    `${input}#hd-wallet-coin${coinNumber}`,\n    `${coinName} HD Wallet`,\n    addresses,\n    21,\n  );\n}\n\nexport async function makeSecp256k1HdWalletDisplay(\n  input: string,\n  coinNumber: number,\n  coinName: string,\n  chainId: ChainId,\n  codec: TxCodec,\n): Promise<StaticDisplay> {\n  const wallet = Secp256k1HdWallet.fromMnemonic(input);\n\n  // tslint:disable-next-line:readonly-array\n  const addresses: Array<{\n    readonly path: string;\n    readonly pubkey: PublicKeyBundle;\n    readonly address: Address;\n  }> = [];\n  for (let a = 0; a < 5; ++a) {\n    const path: ReadonlyArray<Slip10RawIndex> = [\n      Slip10RawIndex.hardened(44),\n      Slip10RawIndex.hardened(coinNumber),\n      Slip10RawIndex.hardened(0),\n      Slip10RawIndex.normal(0),\n      Slip10RawIndex.normal(a),\n    ];\n    const identity = await wallet.createIdentity(chainId, path);\n    const address = codec.identityToAddress(identity);\n    addresses.push({\n      path: printPath(path),\n      pubkey: identity.pubkey,\n      address: address,\n    });\n  }\n\n  return makeHdAddressesDisplay(\n    `${input}#hd-wallet-coin${coinNumber}`,\n    `${coinName} HD Wallet`,\n    addresses,\n    16,\n  );\n}\n\nexport async function makeLiskLikePassphraseDisplay(input: string): Promise<StaticDisplay> {\n  const liskAddress = Derivation.pubkeyToAddress((await passphraseToKeypair(input)).pubkey, \"L\");\n  const riseAddress = Derivation.pubkeyToAddress((await passphraseToKeypair(input)).pubkey, \"R\");\n\n  return {\n    id: `${input}#lisk-like-passphrase`,\n    interpretedAs: \"Lisk-like passphrase\",\n    priority: priorityLiskLikePassphraseDisplay,\n    data: (\n      <div>\n        Lisk: <Link to={\"#\" + liskAddress}>{liskAddress}</Link>\n        <br />\n        Rise: <Link to={\"#\" + riseAddress}>{riseAddress}</Link>\n        <br />\n      </div>\n    ),\n  };\n}\n\nexport function makeBip39MnemonicDisplay(input: string): StaticDisplay {\n  const mnemonic = new EnglishMnemonic(input);\n  const entropy = Bip39.decode(mnemonic);\n\n  let wordCount: number;\n  switch (entropy.length * 8) {\n    case 128:\n      wordCount = 12;\n      break;\n    case 160:\n      wordCount = 15;\n      break;\n    case 192:\n      wordCount = 18;\n      break;\n    case 224:\n      wordCount = 21;\n      break;\n    case 256:\n      wordCount = 24;\n      break;\n    default:\n      throw new Error(\"Unsupported entropy length\");\n  }\n\n  return {\n    id: `${input}#bip39-english-mnemonic`,\n    interpretedAs: \"Bip39 english mnemonic\",\n    priority: priorityBip39MnemonicDisplay,\n    data: (\n      <div>\n        Words: {wordCount}\n        <br />\n        ENT: {entropy.length * 8}\n        <br />\n        <div className=\"pair\">\n          <div className=\"pair-key\">Entropy:&nbsp;</div>\n          <div className=\"pair-value data\">{toHex(entropy)}</div>\n        </div>\n      </div>\n    ),\n  };\n}\n","import { ChainId, TxCodec } from \"@iov/bcp\";\nimport { bnsCodec } from \"@iov/bns\";\nimport { ethereumCodec } from \"@iov/ethereum\";\nimport { liskCodec } from \"@iov/lisk\";\nimport { riseCodec } from \"@iov/rise\";\n\nimport {\n  makeBech32Display,\n  makeBip39MnemonicDisplay,\n  makeBnsAddressDisplay,\n  makeBnsBlockchainNftDisplay,\n  makeBnsUsernameNftDisplay,\n  makeEd25519HdWalletDisplay,\n  makeEd25519PubkeyDisplay,\n  makeEthereumAddressDisplay,\n  makeHexDisplay,\n  makeLiskAddressDisplay,\n  makeLiskLikePassphraseDisplay,\n  makeRiseAddressDisplay,\n  makeSecp256k1HdWalletDisplay,\n  makeSimpleAddressDisplay,\n  makeWeaveAddressDisplay,\n  NetworkSettings,\n} from \"./displays\";\nimport { InputProperties, interprete } from \"./interprete\";\n\nexport interface StaticDisplay {\n  readonly id: string;\n  readonly priority: number;\n  readonly deprecated?: boolean;\n  readonly interpretedAs: string;\n  readonly data: JSX.Element;\n}\n\nexport interface InteractiveDisplay {\n  readonly id: string;\n  readonly priority: number;\n  readonly deprecated?: boolean;\n  readonly interpretedAs: string;\n  readonly getData: () => Promise<any>;\n  readonly renderData: (data: any) => StaticDisplay;\n}\n\nexport type Display = StaticDisplay | InteractiveDisplay;\n\nexport function isInteractiveDisplay(display: Display): display is InteractiveDisplay {\n  return (\n    typeof (display as InteractiveDisplay).getData === \"function\" &&\n    typeof (display as InteractiveDisplay).renderData === \"function\"\n  );\n}\n\nconst iovTestnets: ReadonlyArray<NetworkSettings> = [\n  {\n    name: \"Hugnet (bnsd)\",\n    url: \"https://bns.hugnet.iov.one\",\n    bnsNftSupported: true,\n  },\n  {\n    name: \"Hugnet (bcpd)\",\n    url: \"https://bov.hugnet.iov.one\",\n  },\n];\n\nconst liskNetworks: ReadonlyArray<NetworkSettings> = [\n  {\n    name: \"Lisk Testnet\",\n    url: \"https://testnet.lisk.io\",\n  },\n  {\n    name: \"Lisk Mainnet\",\n    url: \"https://hub32.lisk.io\",\n  },\n];\n\nconst riseNetworks: ReadonlyArray<NetworkSettings> = [\n  {\n    name: \"RISE Testnet\",\n    url: \"https://twallet.rise.vision\",\n  },\n  {\n    name: \"RISE Mainnet\",\n    url: \"https://wallet.rise.vision\",\n  },\n];\n\nconst accountBasedSlip10HdCoins: ReadonlyArray<{\n  readonly name: string;\n  readonly number: number;\n  readonly chainId: ChainId;\n  readonly codec: TxCodec;\n}> = [\n  {\n    name: \"IOV\",\n    number: 234,\n    // any testnet leads to \"tiov\" prefixes\n    chainId: \"some-testnet\" as ChainId,\n    codec: bnsCodec,\n  },\n  {\n    name: \"Lisk\",\n    number: 134,\n    // https://github.com/prolina-foundation/lisk-wiki/blob/master/Networks.md#mainnet\n    chainId: \"ed14889723f24ecc54871d058d98ce91ff2f973192075c0155ba2b7b70ad2511\" as ChainId,\n    codec: liskCodec,\n  },\n  {\n    name: \"RISE\",\n    number: 1120,\n    // https://github.com/RiseVision/rise-node/blob/master/etc/mainnet/config.json\n    chainId: \"cd8171332c012514864edd8eb6f68fc3ea6cb2afbaf21c56e12751022684cea5\" as ChainId,\n    codec: riseCodec,\n  },\n];\n\nconst secp256k1Slip10HdCoins: ReadonlyArray<{\n  readonly name: string;\n  readonly number: number;\n  readonly chainId: ChainId;\n  readonly codec: TxCodec;\n}> = [\n  {\n    name: \"Ethereum\",\n    number: 60,\n    // all Ethereum networks use the same addresses\n    chainId: \"ethereum-eip155-0\" as ChainId,\n    codec: ethereumCodec,\n  },\n];\n\nexport async function processInput(input: string): Promise<ReadonlyArray<Display>> {\n  const normalizedInput = input.trim();\n\n  const properties = interprete(normalizedInput);\n\n  const out = new Array<Display>();\n\n  if (properties.has(InputProperties.IovAddressTestnet)) {\n    for (const network of iovTestnets) {\n      out.push(makeBnsAddressDisplay(normalizedInput, network));\n    }\n  }\n\n  if (properties.has(InputProperties.BnsUsernameNft)) {\n    for (const network of iovTestnets.filter(testnet => !!testnet.bnsNftSupported)) {\n      out.push(makeBnsUsernameNftDisplay(normalizedInput, network));\n    }\n  }\n\n  if (properties.has(InputProperties.BnsBlockchainNft)) {\n    for (const network of iovTestnets.filter(testnet => !!testnet.bnsNftSupported)) {\n      out.push(makeBnsBlockchainNftDisplay(normalizedInput, network));\n    }\n  }\n\n  if (properties.has(InputProperties.EnglishMnemonic)) {\n    out.push(makeBip39MnemonicDisplay(normalizedInput));\n\n    for (const hdCoin of accountBasedSlip10HdCoins) {\n      out.push(\n        await makeEd25519HdWalletDisplay(\n          normalizedInput,\n          hdCoin.number,\n          hdCoin.name,\n          hdCoin.chainId,\n          hdCoin.codec,\n        ),\n      );\n    }\n    for (const hdCoin of secp256k1Slip10HdCoins) {\n      out.push(\n        await makeSecp256k1HdWalletDisplay(\n          normalizedInput,\n          hdCoin.number,\n          hdCoin.name,\n          hdCoin.chainId,\n          hdCoin.codec,\n        ),\n      );\n    }\n    out.push(await makeSimpleAddressDisplay(normalizedInput));\n\n    if (properties.has(InputProperties.EnglishMnemonic12Words)) {\n      out.push(await makeLiskLikePassphraseDisplay(normalizedInput));\n    }\n  }\n\n  if (properties.has(InputProperties.Bech32)) {\n    out.push(makeBech32Display(normalizedInput));\n  }\n\n  if (properties.has(InputProperties.Hex)) {\n    if (properties.has(InputProperties.ByteLength20)) {\n      out.push(makeWeaveAddressDisplay(normalizedInput));\n    }\n    if (properties.has(InputProperties.ByteLength32)) {\n      out.push(makeEd25519PubkeyDisplay(normalizedInput));\n    }\n    out.push(makeHexDisplay(normalizedInput));\n  }\n\n  if (properties.has(InputProperties.LiskAddress)) {\n    for (const network of liskNetworks) {\n      out.push(makeLiskAddressDisplay(normalizedInput, network));\n    }\n  }\n\n  if (properties.has(InputProperties.RiseAddress)) {\n    for (const network of riseNetworks) {\n      out.push(makeRiseAddressDisplay(normalizedInput, network));\n    }\n  }\n\n  if (properties.has(InputProperties.EthereumAddress)) {\n    out.push(makeEthereumAddressDisplay(normalizedInput));\n  }\n\n  out.sort((a, b) => a.priority - b.priority);\n\n  return out;\n}\n","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nimport \"./App.css\";\nimport { isInteractiveDisplay, processInput, StaticDisplay } from \"./inputprocessing\";\n\ninterface TestProps {\n  readonly location: any;\n  readonly history: any;\n  readonly match: any;\n}\n\ninterface TestState {\n  readonly input: string;\n  readonly display: ReadonlyArray<StaticDisplay>;\n}\n\nclass App extends React.Component<TestProps, TestState> {\n  // tslint:disable-next-line:readonly-array\n  private readonly timeouts: NodeJS.Timeout[] = [];\n\n  constructor(props: TestProps) {\n    super(props);\n    this.state = {\n      input: \"\",\n      display: [],\n    };\n\n    this.props.history.listen((location: any, action: any) => {\n      const hashQuery: string = location.hash.slice(1);\n      this.handleQuery(hashQuery);\n    });\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  public componentDidMount(): void {\n    const hashQuery: string = this.props.location.hash.slice(1);\n    const query = decodeURIComponent(hashQuery);\n    console.log(\"Initial query\", query);\n    this.handleQuery(query);\n  }\n\n  public render(): JSX.Element {\n    const listItems = this.state\n      ? this.state.display.map(display => {\n          return (\n            <div key={display.id} className={\"display \" + (display.deprecated ? \"deprecated\" : \"\")}>\n              <div className=\"content\">\n                <div className=\"display-title\">{display.interpretedAs}</div>\n                <div className=\"display-data\">{display.data}</div>\n              </div>\n            </div>\n          );\n        })\n      : [];\n\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <input\n            className=\"maininput\"\n            type=\"text\"\n            placeholder=\"hex address, bech32 address, pubkey, mnemonic â€¦\"\n            value={this.state.input}\n            onChange={this.handleChange}\n            autoFocus\n          />\n          <div className={listItems.length === 0 ? \"hidden\" : \"display-container\"}>\n            <div className=\"pair\">\n              <div className=\"pair-key\">\n                <small>Direct link:&nbsp;</small>\n              </div>\n              <div className=\"pair-value\">\n                <input\n                  type=\"text\"\n                  className=\"direct-link\"\n                  readOnly={true}\n                  value={`${window.location.href.replace(/#.*/, \"\")}#${encodeURIComponent(\n                    this.state.input.trim(),\n                  )}`}\n                />\n              </div>\n            </div>\n          </div>\n        </header>\n        <section className=\"App-body\">\n          <div className={listItems.length === 0 ? \"hidden\" : \"display-container\"}>\n            <p className=\"description\">interpreted as</p>\n            {listItems}\n          </div>\n        </section>\n      </div>\n    );\n  }\n\n  private handleChange(e: React.ChangeEvent<HTMLInputElement>): void {\n    const newValue = e.target.value;\n    console.log(\"handle change called\", newValue);\n    this.handleQuery(newValue);\n  }\n\n  private updateDisplay(updatedDisplay: StaticDisplay): void {\n    const list = this.state.display.map(x => x);\n    const index = list.findIndex(i => i.id === updatedDisplay.id);\n    // tslint:disable-next-line:no-object-mutation\n    list[index] = updatedDisplay;\n    this.setState({\n      display: list,\n    });\n  }\n\n  private async handleQuery(newValue: string): Promise<void> {\n    const out = await processInput(newValue);\n\n    const allStatic = out.map(display => {\n      if (isInteractiveDisplay(display)) {\n        return {\n          id: display.id,\n          interpretedAs: display.interpretedAs,\n          priority: display.priority,\n          deprecated: display.deprecated,\n          data: <div>Loading ...</div>,\n        };\n      } else {\n        return display;\n      }\n    });\n\n    for (const timeout of this.timeouts) {\n      clearTimeout(timeout);\n    }\n\n    for (const interactiveDisplay of out.filter(isInteractiveDisplay)) {\n      const job = () => {\n        interactiveDisplay\n          .getData()\n          .then(data => {\n            const rendered = interactiveDisplay.renderData(data);\n            return rendered;\n          })\n          .catch(error => ({\n            id: interactiveDisplay.id,\n            interpretedAs: interactiveDisplay.interpretedAs,\n            priority: interactiveDisplay.priority,\n            deprecated: interactiveDisplay.deprecated,\n            data: <div className=\"error\">{error.toString()}</div>,\n          }))\n          .then(rendered => {\n            this.updateDisplay(rendered);\n          });\n      };\n\n      // delay execution\n      this.timeouts.push(setTimeout(job, 500));\n    }\n\n    this.setState({\n      input: newValue,\n      display: allStatic,\n    });\n  }\n}\n\nexport default withRouter(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Route } from \"react-router\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <Route path=\"/\" component={App} />\n  </BrowserRouter>,\n  document.getElementById(\"root\"),\n);\n"],"sourceRoot":""}